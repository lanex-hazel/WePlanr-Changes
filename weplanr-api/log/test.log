  [1m[35m (10.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying PRIMARY KEY)[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(422878829879412585);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to PostTableIntoUtf8 (20150611161134)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.1ms)[0m  [1m[35mCREATE TABLE "cms_users" ("id" serial primary key, "username" character varying, "role" character varying DEFAULT 'client', "email" character varying, "slug" character varying, "password_digest" character varying, "auth_token" character varying, "password_reset_token" character varying, "parent_id" integer, "password_reset_sent_at" timestamp, "last_login_at" timestamp, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "site_id" integer DEFAULT -1)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_cms_users_on_username" ON "cms_users"  ("username")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_cms_users_on_role" ON "cms_users"  ("role")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_cms_users_on_email" ON "cms_users"  ("email")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_cms_users_on_site_id" ON "cms_users"  ("site_id")[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE TABLE "cms_term_taxonomy" ("id" serial primary key, "taxonomy" character varying, "description" text, "parent_id" integer, "count" integer, "name" character varying, "slug" character varying, "term_group" integer, "term_order" integer, "status" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "user_id" integer)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_cms_term_taxonomy_on_taxonomy" ON "cms_term_taxonomy"  ("taxonomy")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE  INDEX  "index_cms_term_taxonomy_on_parent_id" ON "cms_term_taxonomy"  ("parent_id")[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE  INDEX  "index_cms_term_taxonomy_on_slug" ON "cms_term_taxonomy"  ("slug")[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE  INDEX  "index_cms_term_taxonomy_on_term_order" ON "cms_term_taxonomy"  ("term_order")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE  INDEX  "index_cms_term_taxonomy_on_user_id" ON "cms_term_taxonomy"  ("user_id")[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE "cms_posts" ("id" serial primary key, "title" character varying, "slug" character varying, "content" text, "content_filtered" text, "status" character varying DEFAULT 'published', "comment_count" integer DEFAULT 0, "published_at" timestamp, "post_parent" integer, "visibility" character varying DEFAULT 'public', "visibility_value" text, "post_class" character varying DEFAULT 'Post', "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "user_id" integer)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_cms_posts_on_slug" ON "cms_posts"  ("slug")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE  INDEX  "index_cms_posts_on_status" ON "cms_posts"  ("status")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE  INDEX  "index_cms_posts_on_post_parent" ON "cms_posts"  ("post_parent")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE  INDEX  "index_cms_posts_on_post_class" ON "cms_posts"  ("post_class")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_cms_posts_on_user_id" ON "cms_posts"  ("user_id")[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE TABLE "cms_term_relationships" ("id" serial primary key, "objectid" integer, "term_order" integer, "term_taxonomy_id" integer)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_cms_term_relationships_on_objectid" ON "cms_term_relationships"  ("objectid")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_cms_term_relationships_on_term_order" ON "cms_term_relationships"  ("term_order")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE  INDEX  "index_cms_term_relationships_on_term_taxonomy_id" ON "cms_term_relationships"  ("term_taxonomy_id")[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE TABLE "cms_user_relationships" ("id" serial primary key, "term_order" integer, "active" integer DEFAULT 1, "term_taxonomy_id" integer, "user_id" integer)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_cms_user_relationships_on_term_taxonomy_id" ON "cms_user_relationships"  ("term_taxonomy_id")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE  INDEX  "index_cms_user_relationships_on_user_id" ON "cms_user_relationships"  ("user_id")[0m
  [1m[35m (5.0ms)[0m  [1m[35mCREATE TABLE "cms_comments" ("id" serial primary key, "author" character varying, "author_email" character varying, "author_url" character varying, "author_IP" character varying, "content" text, "approved" character varying DEFAULT 'pending', "agent" character varying, "typee" character varying, "comment_parent" integer, "post_id" integer, "user_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE  INDEX  "index_cms_comments_on_approved" ON "cms_comments"  ("approved")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE  INDEX  "index_cms_comments_on_comment_parent" ON "cms_comments"  ("comment_parent")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE  INDEX  "index_cms_comments_on_post_id" ON "cms_comments"  ("post_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_cms_comments_on_user_id" ON "cms_comments"  ("user_id")[0m
  [1m[35m (7.1ms)[0m  [1m[35mCREATE TABLE "cms_custom_fields" ("id" serial primary key, "object_class" character varying, "name" character varying, "slug" character varying, "objectid" integer, "parent_id" integer, "field_order" integer, "count" integer DEFAULT 0, "is_repeat" boolean DEFAULT 'f', "description" text, "status" character varying)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_cms_custom_fields_on_object_class" ON "cms_custom_fields"  ("object_class")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_cms_custom_fields_on_slug" ON "cms_custom_fields"  ("slug")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE  INDEX  "index_cms_custom_fields_on_objectid" ON "cms_custom_fields"  ("objectid")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE  INDEX  "index_cms_custom_fields_on_parent_id" ON "cms_custom_fields"  ("parent_id")[0m
  [1m[35m (4.4ms)[0m  [1m[35mCREATE TABLE "cms_custom_fields_relationships" ("id" serial primary key, "objectid" integer, "custom_field_id" integer, "term_order" integer, "object_class" character varying, "value" text, "custom_field_slug" character varying)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_cms_custom_fields_relationships_on_objectid" ON "cms_custom_fields_relationships"  ("objectid")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE  INDEX  "index_cms_custom_fields_relationships_on_custom_field_id" ON "cms_custom_fields_relationships"  ("custom_field_id")[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE  INDEX  "index_cms_custom_fields_relationships_on_object_class" ON "cms_custom_fields_relationships"  ("object_class")[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE  INDEX  "index_cms_custom_fields_relationships_on_custom_field_slug" ON "cms_custom_fields_relationships"  ("custom_field_slug")[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "cms_metas" ("id" serial primary key, "key" character varying, "value" text, "objectid" integer, "object_class" character varying)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_cms_metas_on_key" ON "cms_metas"  ("key")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE  INDEX  "index_cms_metas_on_objectid" ON "cms_metas"  ("objectid")[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE  INDEX  "index_cms_metas_on_object_class" ON "cms_metas"  ("object_class")[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20150611161134"]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to RenameColumnPosts (20150926095310)
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "cms_posts" DROP "comment_count"[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "cms_posts" ADD "post_order" integer DEFAULT 0[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "cms_posts" ADD "taxonomy_id" integer[0m
  [1m[36mCamaleonCms::Post Load (0.8ms)[0m  [1m[34mSELECT "cms_posts".* FROM "cms_posts" WHERE "cms_posts"."post_class" = $1 ORDER BY "cms_posts"."post_order" ASC, "cms_posts"."created_at" DESC[0m  [["post_class", "Post"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20150926095310"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddConfirmTokenToUsers (20151212095328)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "cms_users" ADD "confirm_email_token" character varying[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "cms_users" ADD "confirm_email_sent_at" timestamp[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "cms_users" ADD "is_valid_email" boolean DEFAULT 't'[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20151212095328"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddFeatureToPosts (20160504155652)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "cms_posts" ADD "is_feature" boolean DEFAULT 'f'[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160504155652"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to MoveFirstNameOfUsers (20160504155653)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "cms_users" ADD "first_name" character varying[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "cms_users" ADD "last_name" character varying[0m
  [1m[36mCamaleonCms::User Load (1.0ms)[0m  [1m[34mSELECT "cms_users".* FROM "cms_users" ORDER BY "cms_users"."role" ASC[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160504155653"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateDbStructure (20160517143441)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.4ms)[0m  [1m[35mCREATE TABLE "plugins_contact_forms" ("id" serial primary key, "site_id" integer, "count" integer, "parent_id" integer, "name" character varying, "slug" character varying, "description" text, "value" text, "settings" text, "created_at" timestamp, "updated_at" timestamp)[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160517143441"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to ImproveMenusStructure (20160606135421)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCamaleonCms::NavMenuItem Load (1.1ms)[0m  [1m[34mSELECT "cms_term_taxonomy".* FROM "cms_term_taxonomy" WHERE "cms_term_taxonomy"."taxonomy" = $1 ORDER BY "cms_term_taxonomy"."id" ASC[0m  [["taxonomy", "nav_menu_item"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160606135421"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddGroupToCustomFieldValues (20160609121449)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "cms_custom_fields_relationships" ADD "group_number" integer DEFAULT 0[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20160609121449"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to InstallMigratedSeoPlugin (20161206211917)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCamaleonCms::Site Load (0.3ms)[0m  [1m[34mSELECT "cms_term_taxonomy".* FROM "cms_term_taxonomy" WHERE "cms_term_taxonomy"."taxonomy" = $1 ORDER BY "cms_term_taxonomy"."term_group" DESC[0m  [["taxonomy", "site"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161206211917"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to DropUserRelationshipTable (20161215202255)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mDROP TABLE "cms_user_relationships"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20161215202255"]]
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateVendors (20170213110917)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.0ms)[0m  [1m[35mCREATE TABLE "vendors" ("id" serial primary key, "business_name" character varying, "business_number" character varying, "personal_name" character varying, "email" character varying, "locations" character varying[], "invitation_code" character varying, "website" character varying, "social_channels" json, "phone" character varying, "insurance" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170213110917"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePhotos (20170215054250)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.1ms)[0m  [1m[35mCREATE TABLE "photos" ("id" serial primary key, "name" character varying, "image_file_name" character varying, "image_content_type" character varying, "image_file_size" integer, "image_updated_at" timestamp, "imageable_type" character varying, "imageable_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE  INDEX  "index_photos_on_imageable_type_and_imageable_id" ON "photos"  ("imageable_type", "imageable_id")[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170215054250"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddColumnsToVendors (20170215153536)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "vendors" ADD "business_address" character varying[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "vendors" ADD "address_summary" character varying[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "vendors" ADD "primary_phone" character varying[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "vendors" ADD "secondary_phone" character varying[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "vendors" ADD "contact_name" character varying[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "vendors" ADD "about" character varying[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "vendors" DROP "phone"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170215153536"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddPublicContactNameToVendors (20170216072550)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "vendors" ADD "public_contact_name" character varying[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170216072550"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddMoreColumnsToVendors (20170220075123)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "vendors" ADD "services" character varying[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "vendors" ADD "pricing_and_packages" text[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "vendors" ADD "registered_for_gst" character varying[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "vendors" ADD "registered_business_address" text[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170220075123"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddPgTrgmExtensionToDb (20170220083706)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (13.8ms)[0m  [1m[35mcreate extension pg_trgm;[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170220083706"]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddProfilePhotoToVendors (20170221062438)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "vendors" ADD "profile_photo_file_name" character varying[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "vendors" ADD "profile_photo_content_type" character varying[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "vendors" ADD "profile_photo_file_size" integer[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "vendors" ADD "profile_photo_updated_at" timestamp[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170221062438"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateUsers (20170221075636)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" serial primary key, "name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170221075636"]]
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddChecksumToImages (20170221083126)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "vendors" ADD "profile_photo_fingerprint" character varying[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "photos" ADD "image_fingerprint" character varying[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170221083126"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateAuthTokens (20170221100259)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.4ms)[0m  [1m[35mCREATE TABLE "auth_tokens" ("id" serial primary key, "token" character varying, "auth_tokenable_type" character varying, "auth_tokenable_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE  INDEX  "index_auth_tokens_on_auth_tokenable_type_and_auth_tokenable_id" ON "auth_tokens"  ("auth_tokenable_type", "auth_tokenable_id")[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170221100259"]]
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateWeddings (20170221153252)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (6.1ms)[0m  [1m[35mCREATE TABLE "weddings" ("id" serial primary key, "budget" integer DEFAULT 0, "location" character varying, "date" date, "user_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE  INDEX  "index_weddings_on_user_id" ON "weddings"  ("user_id")[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170221153252"]]
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateTodos (20170222091532)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (8.4ms)[0m  [1m[35mCREATE TABLE "todos" ("id" serial primary key, "task" character varying, "status" character varying, "user_id" integer, "done_at" timestamp, CONSTRAINT "fk_rails_d94154aa95"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE  INDEX  "index_todos_on_user_id" ON "todos"  ("user_id")[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170222091532"]]
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to RemoveRegisteredBusinessAddressToVendors (20170222112206)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "vendors" DROP "registered_business_address"[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170222112206"]]
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddDefaultStatusToTodos (20170222142508)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "todos" ALTER COLUMN "status" TYPE character varying[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "todos" ALTER COLUMN "status" SET DEFAULT 'pending'[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170222142508"]]
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddUserReferencesToVendors (20170223062643)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "vendors" ADD "user_id" integer[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE  INDEX  "index_vendors_on_user_id" ON "vendors"  ("user_id")[0m
  [1m[35m (2.9ms)[0m  [1m[35mALTER TABLE "vendors" ADD CONSTRAINT "fk_rails_827f84e5b7"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170223062643"]]
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateFavoriteVendors (20170223074116)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.7ms)[0m  [1m[35mCREATE TABLE "favorite_vendors" ("id" serial primary key, "user_id" integer, "vendor_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE  INDEX  "index_favorite_vendors_on_user_id" ON "favorite_vendors"  ("user_id")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE  INDEX  "index_favorite_vendors_on_vendor_id" ON "favorite_vendors"  ("vendor_id")[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170223074116"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateFavorites (20170223074917)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.1ms)[0m  [1m[35mCREATE TABLE "favorites" ("id" serial primary key, "user_id" integer, "vendor_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE  INDEX  "index_favorites_on_user_id" ON "favorites"  ("user_id")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE  INDEX  "index_favorites_on_vendor_id" ON "favorites"  ("vendor_id")[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170223074917"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateUnavailableDates (20170223114644)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.0ms)[0m  [1m[35mCREATE TABLE "unavailable_dates" ("id" serial primary key, "vendor_id" integer, "date" date, "reason" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_d35e465f4a"
FOREIGN KEY ("vendor_id")
  REFERENCES "vendors" ("id")
)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_unavailable_dates_on_vendor_id" ON "unavailable_dates"  ("vendor_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170223114644"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to RemovePersonalNameToVendors (20170224072320)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "vendors" DROP "personal_name"[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170224072320"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateInvitations (20170228065348)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE TABLE "invitations" ("id" serial primary key, "token" character varying, "inviteable_type" character varying, "inviteable_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE  INDEX  "index_invitations_on_token" ON "invitations"  ("token")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_invitations_on_inviteable_type_and_inviteable_id" ON "invitations"  ("inviteable_type", "inviteable_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170228065348"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddInternalIdToVendors (20170301065319)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "vendors" ADD "internal_id" character varying[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_vendors_on_business_number_and_internal_id" ON "vendors"  ("business_number", "internal_id")[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170301065319"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateAdmins (20170301085329)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE TABLE "admins" ("id" serial primary key, "username" character varying, "password_digest" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170301085329"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePricingAndPackages (20170307062542)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "vendors" DROP "pricing_and_packages"[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE TABLE "pricing_and_packages" ("id" serial primary key, "name" character varying, "price" float, "vendor_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_6865d41341"
FOREIGN KEY ("vendor_id")
  REFERENCES "vendors" ("id")
)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_pricing_and_packages_on_vendor_id" ON "pricing_and_packages"  ("vendor_id")[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170307062542"]]
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AlterServicesToBeArray (20170307094016)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (6.1ms)[0m  [1m[35mALTER TABLE "vendors" ALTER COLUMN "services" TYPE character varying[] USING (string_to_array(services, ';'))[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170307094016"]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddUidToUsers (20170308082907)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "uid" character varying[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170308082907"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddUidToVendors (20170309065602)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "vendors" ADD "uid" character varying[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170309065602"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddRegisteredTradingNameToVendors (20170309071150)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "vendors" ADD "registered_trading_name" character varying[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170309071150"]]
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to AlterColumnsToBoolean (20170309071539)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (7.1ms)[0m  [1m[35mALTER TABLE "vendors" ALTER COLUMN "insurance" TYPE boolean USING (CASE insurance WHEN 'Y' THEN 't'::boolean ELSE 'f'::boolean END)[0m
  [1m[35m (12.6ms)[0m  [1m[35mALTER TABLE "vendors" ALTER COLUMN "registered_for_gst" TYPE boolean USING (CASE registered_for_gst WHEN 'Y' THEN 't'::boolean ELSE 'f'::boolean END)[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170309071539"]]
  [1m[35m (3.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddIndexVendorsOnUid (20170313124950)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE  INDEX  "index_vendors_on_uid" ON "vendors"  ("uid")[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170313124950"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateBudgets (20170320113534)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.6ms)[0m  [1m[35mCREATE TABLE "budgets" ("id" serial primary key, "guide" integer DEFAULT 0, "planned" integer DEFAULT 0, "final" integer DEFAULT 0, "wedding_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_2be88b3422"
FOREIGN KEY ("wedding_id")
  REFERENCES "weddings" ("id")
)[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE  INDEX  "index_budgets_on_wedding_id" ON "budgets"  ("wedding_id")[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170320113534"]]
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateViews (20170324091341)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.2ms)[0m  [1m[35mCREATE TABLE "views" ("id" serial primary key, "ip_address" character varying, "user_id" integer, "vendor_id" integer, "created_at" timestamp NOT NULL)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE  INDEX  "index_views_on_user_id" ON "views"  ("user_id")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE  INDEX  "index_views_on_vendor_id" ON "views"  ("vendor_id")[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170324091341"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateServices (20170329100502)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE TABLE "services" ("id" serial primary key, "internal_id" character varying, "name" character varying, "tags" character varying[], "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE  INDEX  "index_services_on_internal_id" ON "services"  ("internal_id")[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170329100502"]]
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to RenameViewsToLogs (20170331082018)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "views" RENAME TO "logs"[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "public"."views_id_seq" RENAME TO "logs_id_seq"[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER INDEX "views_pkey" RENAME TO "logs_pkey"[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER INDEX "index_views_on_user_id" RENAME TO "index_logs_on_user_id"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER INDEX "index_views_on_vendor_id" RENAME TO "index_logs_on_vendor_id"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170331082018"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddActionToLogs (20170331082242)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "logs" ADD "action" character varying[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170331082242"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to MakeWeddingHasManyUsers (20170403101837)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "users" ADD "wedding_id" integer[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_wedding_id" ON "users"  ("wedding_id")[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "users" ADD CONSTRAINT "fk_rails_637dc223dc"
FOREIGN KEY ("wedding_id")
  REFERENCES "weddings" ("id")
[0m
  [1m[36mWedding Load (0.4ms)[0m  [1m[34mSELECT "weddings".* FROM "weddings"[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "weddings" DROP "user_id"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170403101837"]]
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to MoveTodosToWedding (20170403105521)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "todos" ADD "wedding_id" integer[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_todos_on_wedding_id" ON "todos"  ("wedding_id")[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "todos" ADD CONSTRAINT "fk_rails_5bf69c3f34"
FOREIGN KEY ("wedding_id")
  REFERENCES "weddings" ("id")
[0m
  [1m[36mTodo Load (0.3ms)[0m  [1m[34mSELECT "todos".* FROM "todos"[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "todos" DROP "user_id"[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170403105521"]]
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateTodoStatuses (20170404123410)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE TABLE "todo_statuses" ("id" serial primary key, "wedding_id" integer, "todo_id" integer, "status" character varying DEFAULT 'pending', "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170404123410"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AlterTodos (20170404141113)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "todos" DROP "task"[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "todos" DROP "status"[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "todos" DROP "done_at"[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "todos" DROP CONSTRAINT "fk_rails_5bf69c3f34"[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "todos" DROP "wedding_id"[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "todos" ADD "name" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "todos" ADD "search_terms" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "todos" ADD "relevent_vendor_ids" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "todos" ADD "timing" character varying[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "todos" ADD "overdue" json DEFAULT '{}'[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "todos" ADD "suggestion_copy" json DEFAULT '{}'[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "todos" ADD "reminder_copy" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "todos" ADD "question_copy" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "todos" ADD "redirect_copy" character varying[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170404141113"]]
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateOutstandingTodos (20170406062423)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "outstanding_todos" ("id" serial primary key, "views" integer DEFAULT 0, "user_id" integer, "todo_id" integer)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE  INDEX  "index_outstanding_todos_on_user_id" ON "outstanding_todos"  ("user_id")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE  INDEX  "index_outstanding_todos_on_todo_id" ON "outstanding_todos"  ("todo_id")[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170406062423"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AlterTimingOnTodos (20170406063902)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "todos" DROP "timing"[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "todos" ADD "timing_min_month" integer[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "todos" ADD "timing_max_month" integer[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170406063902"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to FixTypoOnReleventVendorIds (20170406092453)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "todos" RENAME COLUMN "relevent_vendor_ids" TO "relevant_vendor_ids"[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170406092453"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to MakeRelevantVendorIdsArray (20170406093320)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "todos" DROP "relevant_vendor_ids"[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "todos" ADD "relevant_vendor_ids" integer[] DEFAULT '{}'[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170406093320"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to ChangeRelevantVendorIdsName (20170406101554)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "todos" RENAME COLUMN "relevant_vendor_ids" TO "relevant_service_ids"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170406101554"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to ChangeSearchTermsToArray (20170406110050)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.8ms)[0m  [1m[35mALTER TABLE "todos" ALTER COLUMN "search_terms" TYPE character varying[] USING (string_to_array(search_terms, ';'))[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170406110050"]]
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddDefaultToVendorServices (20170406140354)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "vendors" ALTER COLUMN "services" TYPE character varying[][0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "vendors" ALTER COLUMN "services" SET DEFAULT '{}'[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170406140354"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to RemoveForeignKeyConstraints (20170406143156)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "budgets" DROP CONSTRAINT "fk_rails_2be88b3422"[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "budgets" DROP "wedding_id"[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "pricing_and_packages" DROP CONSTRAINT "fk_rails_6865d41341"[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "pricing_and_packages" DROP "vendor_id"[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "unavailable_dates" DROP CONSTRAINT "fk_rails_d35e465f4a"[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "unavailable_dates" DROP "vendor_id"[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "users" DROP CONSTRAINT "fk_rails_637dc223dc"[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "users" DROP "wedding_id"[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "vendors" DROP CONSTRAINT "fk_rails_827f84e5b7"[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "vendors" DROP "user_id"[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "budgets" ADD "wedding_id" integer[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_budgets_on_wedding_id" ON "budgets"  ("wedding_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "pricing_and_packages" ADD "vendor_id" integer[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_pricing_and_packages_on_vendor_id" ON "pricing_and_packages"  ("vendor_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "unavailable_dates" ADD "vendor_id" integer[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_unavailable_dates_on_vendor_id" ON "unavailable_dates"  ("vendor_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "wedding_id" integer[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_users_on_wedding_id" ON "users"  ("wedding_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "vendors" ADD "user_id" integer[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE  INDEX  "index_vendors_on_user_id" ON "vendors"  ("user_id")[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170406143156"]]
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddGenderToUser (20170411074303)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "users" ADD "gender" character varying[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170411074303"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateLocations (20170416142843)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.1ms)[0m  [1m[35mCREATE TABLE "locations" ("id" serial primary key, "name" character varying)[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170416142843"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to RenameArrayColumnsForMigration (20170416143608)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "vendors" RENAME COLUMN "locations" TO "vendor_locations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "vendors" RENAME COLUMN "services" TO "vendor_services"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170416143608"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableVendorLocation (20170416143749)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "locations_vendors" ("vendor_id" integer NOT NULL, "location_id" integer NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_locations_vendors_on_vendor_id_and_location_id" ON "locations_vendors"  ("vendor_id", "location_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170416143749"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableVendorService (20170416143858)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "services_vendors" ("vendor_id" integer NOT NULL, "service_id" integer NOT NULL)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE  INDEX  "index_services_vendors_on_vendor_id_and_service_id" ON "services_vendors"  ("vendor_id", "service_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170416143858"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AlterNameToFirstnameAndLastname (20170425142136)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" RENAME COLUMN "name" TO "firstname"[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "users" ADD "lastname" character varying[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170425142136"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddMetadataEventToUsers (20170425154654)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "users" ADD "metadata_event" json DEFAULT '{}'[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170425154654"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddAttachmentProfilePhotoToUsers (20170425160741)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "profile_photo_file_name" character varying[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "profile_photo_content_type" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "profile_photo_file_size" integer[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "profile_photo_updated_at" timestamp[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170425160741"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddRoleToUsers (20170425160931)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "users" ADD "role" character varying DEFAULT 'bride'[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170425160931"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddNoOfGuestsToWedding (20170426100715)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "weddings" ADD "no_of_guests" integer[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170426100715"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddConfirmationToUsers (20170429032756)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "users" ADD "confirmation_token" character varying[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "users" ADD "confirmation_token_sent_at" timestamp[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "users" ADD "is_confirmed" boolean DEFAULT 'f'[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170429032756"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddStatusToWeddings (20170501073427)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "weddings" ADD "status" character varying DEFAULT 'active'[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170501073427"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessages (20170501122229)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.7ms)[0m  [1m[35mCREATE TABLE "messages" ("id" serial primary key, "content" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "conversation_id" integer, "user_id" integer)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_conversation_id" ON "messages"  ("conversation_id")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_user_id" ON "messages"  ("user_id")[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170501122229"]]
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateConversations (20170501123407)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.4ms)[0m  [1m[35mCREATE TABLE "conversations" ("id" serial primary key, "users_uid" character varying[] DEFAULT '{}', "vendor_uid" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170501123407"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddUidToConversation (20170508061011)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "conversations" ADD "uid" character varying[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170508061011"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddResetPasswordToUsers (20170509040251)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "users" ADD "reset_password_token" character varying[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "reset_password_token_sent_at" timestamp[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170509040251"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddBudgetPercentToTodos (20170514143819)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "todos" ADD "budget_percent" decimal[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170514143819"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddTodoIdToBudgets (20170514145429)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "budgets" ADD "todo_id" integer[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_budgets_on_todo_id" ON "budgets"  ("todo_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170514145429"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddSlugToVendors (20170516130036)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "vendors" ADD "slug" character varying[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170516130036"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to RemoveDefaultToUserRole (20170518131051)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "users" ALTER COLUMN "role" DROP DEFAULT[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170518131051"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddWelcomeFlgToUsers (20170519043908)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "users" ADD "welcome_flg" boolean DEFAULT 't'[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170519043908"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddLastUsedAtToAuthTokens (20170523080430)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "auth_tokens" ADD "last_used_at" timestamp[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170523080430"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateBankCards (20170525153614)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE TABLE "bank_cards" ("id" serial primary key, "card_type" character varying, "full_name" character varying, "number" character varying, "expiry_month" character varying, "expiry_year" character varying, "external_id" character varying, "wedding_id" integer)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_bank_cards_on_wedding_id" ON "bank_cards"  ("wedding_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170525153614"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateBankAccounts (20170525154437)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "bank_accounts" ("id" serial primary key, "external_id" character varying, "account_name" character varying, "bank_name" character varying, "holder_type" character varying, "account_type" character varying, "account_number" character varying, "routing_number" character varying, "country" character varying, "wedding_id" integer)[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE  INDEX  "index_bank_accounts_on_wedding_id" ON "bank_accounts"  ("wedding_id")[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170525154437"]]
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddUidToWeddings (20170526143122)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "weddings" ADD "uid" character varying[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170526143122"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateVendorPromoCodes (20170530141938)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.4ms)[0m  [1m[35mCREATE TABLE "vendor_promo_codes" ("id" serial primary key, "code" character varying, "accumulated_credit" integer DEFAULT 0, "times_used" integer DEFAULT 0, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "vendor_id" integer)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_vendor_promo_codes_on_code" ON "vendor_promo_codes"  ("code")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_vendor_promo_codes_on_vendor_id" ON "vendor_promo_codes"  ("vendor_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170530141938"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateBookings (20170602025228)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.8ms)[0m  [1m[35mCREATE TABLE "bookings" ("id" serial primary key, "schedule" timestamp, "client" character varying, "location" character varying, "details" character varying, "vendor_id" integer, CONSTRAINT "fk_rails_22fb9d2368"
FOREIGN KEY ("vendor_id")
  REFERENCES "vendors" ("id")
)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE  INDEX  "index_bookings_on_vendor_id" ON "bookings"  ("vendor_id")[0m
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170602025228"]]
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddGeoLatLngToVendors (20170607061758)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "vendors" ADD "address_lat" decimal[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "vendors" ADD "address_lng" decimal[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170607061758"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddPrimaryServiceIdToVendors (20170608093207)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "vendors" ADD "primary_service_id" integer[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170608093207"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddIntarrayExtensionToDb (20170608114358)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (12.5ms)[0m  [1m[35mcreate extension intarray;[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170608114358"]]
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddVendorsAssignedWithToServices (20170613093556)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "services" ADD "vendors_assigned_with" integer DEFAULT 0[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170613093556"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddNonProfitToVendors (20170614115507)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "vendors" ADD "non_profit" boolean DEFAULT 'f'[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170614115507"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddCoverPhotoToVendors (20170614115811)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "vendors" ADD "cover_photo_file_name" character varying[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "vendors" ADD "cover_photo_content_type" character varying[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "vendors" ADD "cover_photo_file_size" integer[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "vendors" ADD "cover_photo_updated_at" timestamp[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170614115811"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddCoverPhotoFingerprintToVendors (20170614115901)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "vendors" ADD "cover_photo_fingerprint" character varying[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170614115901"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateQuotes (20170619130342)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.8ms)[0m  [1m[35mCREATE TABLE "quotes" ("id" serial primary key, "vendor_id" integer, "wedding_id" integer, "is_gst" boolean, "payment_due" timestamp, "quote_no" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_quotes_on_vendor_id" ON "quotes"  ("vendor_id")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE  INDEX  "index_quotes_on_wedding_id" ON "quotes"  ("wedding_id")[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170619130342"]]
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateQuoteItems (20170619140014)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE TABLE "quote_items" ("id" serial primary key, "quote_id" integer, "name" character varying, "description" text, "cost" decimal DEFAULT 0.0, "total" decimal DEFAULT 0.0)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE  INDEX  "index_quote_items_on_quote_id" ON "quote_items"  ("quote_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170619140014"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateQuoteDrafts (20170619173412)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "quote_drafts" ("id" serial primary key, "vendor_id" integer, "name" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE  INDEX  "index_quote_drafts_on_vendor_id" ON "quote_drafts"  ("vendor_id")[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170619173412"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateQuoteDraftItems (20170619175443)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.3ms)[0m  [1m[35mCREATE TABLE "quote_draft_items" ("id" serial primary key, "quote_draft_id" integer, "name" character varying, "description" text, "cost" decimal, "total" decimal)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_quote_draft_items_on_quote_draft_id" ON "quote_draft_items"  ("quote_draft_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170619175443"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddQuoteIdToMessages (20170620100925)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "messages" ADD "quote_id" integer[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE  INDEX  "index_messages_on_quote_id" ON "messages"  ("quote_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170620100925"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddStatusToQuote (20170620102114)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "quotes" ADD "status" character varying DEFAULT 'offered'[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170620102114"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddWeddingUidToConversations (20170628100537)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "conversations" ADD "wedding_uid" character varying[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170628100537"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateReferrals (20170630041256)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.7ms)[0m  [1m[35mCREATE TABLE "referrals" ("id" serial primary key, "vendor_id" integer, "referred_email" character varying, "status" character varying DEFAULT 'pending', "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_referrals_on_vendor_id" ON "referrals"  ("vendor_id")[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170630041256"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddVendorIdToBankAccounts (20170703093621)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "bank_accounts" ADD "vendor_id" integer[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE  INDEX  "index_bank_accounts_on_vendor_id" ON "bank_accounts"  ("vendor_id")[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170703093621"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddIsPrimaryToServices (20170706000917)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "services" ADD "is_primary" boolean DEFAULT 't'[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170706000917"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddCurrentCreditToVendorPromoCodes (20170706085833)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "vendor_promo_codes" ADD "current_credit" integer DEFAULT 0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170706085833"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddAuthCodeToVendors (20170706090706)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "vendors" ADD "stripe_auth_code" character varying[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170706090706"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddWeddingIdToBookings (20170706143356)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "bookings" ADD "wedding_id" integer[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_bookings_on_wedding_id" ON "bookings"  ("wedding_id")[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170706143356"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddBookingIdToTodoStatuses (20170707080434)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "todo_statuses" ADD "booking_id" integer[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_todo_statuses_on_booking_id" ON "todo_statuses"  ("booking_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170707080434"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateOutsideVendors (20170708084902)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.1ms)[0m  [1m[35mCREATE TABLE "outside_vendors" ("id" serial primary key, "business_name" character varying, "public_contact_name" character varying, "address_summary" character varying, "email" character varying, "website" character varying, "primary_phone" character varying, "wedding_id" integer)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_outside_vendors_on_wedding_id" ON "outside_vendors"  ("wedding_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170708084902"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddColumnsToBudget (20170708122650)
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "budgets" ADD "actual" integer DEFAULT 0[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "budgets" ADD "paid" integer DEFAULT 0[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170708122650"]]
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddOutsideVendorIdToTodoStatuses (20170709071312)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "todo_statuses" ADD "outside_vendor_id" integer[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE  INDEX  "index_todo_statuses_on_outside_vendor_id" ON "todo_statuses"  ("outside_vendor_id")[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170709071312"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateTransactions (20170709080853)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" serial primary key, "amount" decimal, "description" character varying, "metadata" json DEFAULT '{}', "owner_type" character varying, "owner_id" integer, "quote_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE  INDEX  "index_transactions_on_owner_type_and_owner_id" ON "transactions"  ("owner_type", "owner_id")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE  INDEX  "index_transactions_on_quote_id" ON "transactions"  ("quote_id")[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170709080853"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCustomTodo (20170710113642)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE TABLE "custom_todos" ("id" serial primary key, "wedding_id" integer, "name" character varying, "status" character varying DEFAULT 'pending')[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE  INDEX  "index_custom_todos_on_wedding_id" ON "custom_todos"  ("wedding_id")[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170710113642"]]
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddStripeIdToWeddings (20170710115653)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "weddings" ADD "stripe_id" character varying[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170710115653"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AlterStripeAccountIds (20170710131441)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "vendors" RENAME COLUMN "stripe_auth_code" TO "stripe_account_id"[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "weddings" RENAME COLUMN "stripe_id" TO "stripe_account_id"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170710131441"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddReferencesToCustomTodos (20170711040948)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "custom_todos" ADD "booking_id" integer[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_custom_todos_on_booking_id" ON "custom_todos"  ("booking_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "custom_todos" ADD "outside_vendor_id" integer[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_custom_todos_on_outside_vendor_id" ON "custom_todos"  ("outside_vendor_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170711040948"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddQuoteIdToBookings (20170711074152)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "bookings" ADD "quote_id" integer[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE  INDEX  "index_bookings_on_quote_id" ON "bookings"  ("quote_id")[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170711074152"]]
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateInvoices (20170711080127)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "invoices" ("id" serial primary key, "amount" decimal, "description" character varying, "status" character varying DEFAULT 'unpaid', "quote_id" integer, "wedding_id" integer, "vendor_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_invoices_on_quote_id" ON "invoices"  ("quote_id")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE  INDEX  "index_invoices_on_wedding_id" ON "invoices"  ("wedding_id")[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE  INDEX  "index_invoices_on_vendor_id" ON "invoices"  ("vendor_id")[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170711080127"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddStatusToTransactions (20170711082237)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "transactions" ADD "status" character varying DEFAULT 'payment received'[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170711082237"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddMetadataToInvoices (20170711082747)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "invoices" ADD "metadata" json DEFAULT '{}'[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170711082747"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddDeliveryDatetimeToQuotes (20170712112828)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "quotes" ADD "delivery_date" date[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "quotes" ADD "delivery_time" character varying[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170712112828"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddTotalFeeToOutsideVendors (20170712162203)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "outside_vendors" ADD "total_fee" decimal[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170712162203"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddPaidToOutsideVendors (20170714022204)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "outside_vendors" ADD "paid" decimal DEFAULT 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "outside_vendors" ADD "created_at" timestamp[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "outside_vendors" ADD "updated_at" timestamp[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170714022204"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddApplicationFeeToTransactions (20170714082227)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "transactions" ADD "application_fee" decimal[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170714082227"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to RemoveUserReferenceInOutstandingTodos (20170714111928)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "outstanding_todos" DROP "user_id"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170714111928"]]
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddWeddingReferenceToOutstandingTodos (20170714112321)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "outstanding_todos" ADD "wedding_id" integer[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_outstanding_todos_on_wedding_id" ON "outstanding_todos"  ("wedding_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170714112321"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddAcceptedAtToQuotes (20170715091418)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "quotes" ADD "accepted_at" timestamp[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170715091418"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddOverdueAtToInvoices (20170716125105)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "invoices" ADD "overdue_at" timestamp[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170716125105"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddLastActivityAtToUsers (20170716133732)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "users" ADD "last_activity_at" timestamp[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170716133732"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddLastActivityAtToAdmins (20170716140822)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "admins" ADD "last_activity_at" timestamp[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170716140822"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to RemoveLastUsedAtFromAuthTokens (20170716141509)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "auth_tokens" DROP "last_used_at"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170716141509"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateUserReferralCodes (20170718084729)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "user_referral_codes" ("id" serial primary key, "code" character varying, "accumulated_credit" integer DEFAULT 0, "current_credit" integer DEFAULT 0, "times_used" integer DEFAULT 0, "wedding_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX  "index_user_referral_codes_on_wedding_id" ON "user_referral_codes"  ("wedding_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170718084729"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddCommonReferenceToReferrals (20170718090214)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "referrals" ADD "referrer_type" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "referrals" ADD "referrer_id" integer[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE  INDEX  "index_referrals_on_referrer_type_and_referrer_id" ON "referrals"  ("referrer_type", "referrer_id")[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170718090214"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to RemoveVendorReferenceToReferrals (20170719040400)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "referrals" DROP "vendor_id"[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170719040400"]]
  [1m[35m (0.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateReferralCodes (20170719063553)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.5ms)[0m  [1m[35mCREATE TABLE "referral_codes" ("id" serial primary key, "code" character varying, "accumulated_credit" integer DEFAULT 0, "current_credit" integer DEFAULT 0, "times_used" integer DEFAULT 0, "owner_type" character varying, "owner_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE  INDEX  "index_referral_codes_on_owner_type_and_owner_id" ON "referral_codes"  ("owner_type", "owner_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170719063553"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddDiscountFeeToReferrals (20170719080140)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "referrals" ADD "discount_fee" decimal DEFAULT 0[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170719080140"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateDiscountPrices (20170719080942)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.6ms)[0m  [1m[35mCREATE TABLE "discount_prices" ("id" serial primary key, "description" character varying, "price" decimal DEFAULT 0)[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170719080942"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to DropUserAndVendorCodes (20170720023643)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.3ms)[0m  [1m[35mDROP TABLE "user_referral_codes"[0m
  [1m[35m (1.6ms)[0m  [1m[35mDROP TABLE "vendor_promo_codes"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170720023643"]]
  [1m[35m (3.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateDiscountItems (20170720080045)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "discount_items" ("id" serial primary key, "quote_id" integer, "price" integer)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE  INDEX  "index_discount_items_on_quote_id" ON "discount_items"  ("quote_id")[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170720080045"]]
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddReferencesToDiscountItems (20170721010955)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "discount_items" ADD "referral_id" integer[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE  INDEX  "index_discount_items_on_referral_id" ON "discount_items"  ("referral_id")[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170721010955"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to RenameOverdueToDueFromInvoices (20170721083128)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "invoices" RENAME COLUMN "overdue_at" TO "due_at"[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170721083128"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddInvoiceReferenceToTransactions (20170721084543)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "transactions" ADD "invoice_id" integer[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_transactions_on_invoice_id" ON "transactions"  ("invoice_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170721084543"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to RemoveDeliveryTimeFromQuotes (20170726161250)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "quotes" DROP "delivery_time"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726161250"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddQuantityToQuoteItems (20170728110306)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "quote_items" ADD "quantity" integer DEFAULT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170728110306"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddInitialPlanToTodos (20170731074242)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "todos" ADD "is_initial_plan" boolean[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170731074242"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to ChangeDeliveryDateFormatFromQuotes (20170731081554)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (7.8ms)[0m  [1m[35mALTER TABLE "quotes" ALTER COLUMN "delivery_date" TYPE timestamp[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170731081554"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to ActsAsTaggableOnMigration (20170801092045)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE TABLE "tags" ("id" serial primary key, "name" character varying)[0m
  [1m[35m (5.1ms)[0m  [1m[35mCREATE TABLE "taggings" ("id" serial primary key, "tag_id" integer, "taggable_type" character varying, "taggable_id" integer, "tagger_type" character varying, "tagger_id" integer, "context" character varying(128), "created_at" timestamp)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE  INDEX  "index_taggings_on_tag_id" ON "taggings"  ("tag_id")[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE  INDEX  "index_taggings_on_taggable_id_and_taggable_type_and_context" ON "taggings"  ("taggable_id", "taggable_type", "context")[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170801092045"]]
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddMissingUniqueIndices (20170801092046)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_tags_on_name" ON "tags"  ("name")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_taggings_on_tag_id"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP INDEX  "index_taggings_on_taggable_id_and_taggable_type_and_context"[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE UNIQUE INDEX  "taggings_idx" ON "taggings"  ("tag_id", "taggable_id", "taggable_type", "context", "tagger_id", "tagger_type")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170801092046"]]
  [1m[35m (0.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddTaggingsCounterCacheToTags (20170801092047)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "tags" ADD "taggings_count" integer DEFAULT 0[0m
  [1m[36mActsAsTaggableOn::Tag Load (1.0ms)[0m  [1m[34mSELECT  "tags".* FROM "tags" ORDER BY "tags"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170801092047"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddMissingTaggableIndex (20170801092048)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE  INDEX  "index_taggings_on_taggable_id_and_taggable_type_and_context" ON "taggings"  ("taggable_id", "taggable_type", "context")[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170801092048"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to ChangeCollationForTagNames (20170801092049)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170801092049"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddMissingIndexesOnTaggings (20170801092050)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_taggings_on_tag_id" ON "taggings"  ("tag_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_taggings_on_taggable_id" ON "taggings"  ("taggable_id")[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE  INDEX  "index_taggings_on_taggable_type" ON "taggings"  ("taggable_type")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE  INDEX  "index_taggings_on_tagger_id" ON "taggings"  ("tagger_id")[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE  INDEX  "index_taggings_on_context" ON "taggings"  ("context")[0m
  [1m[35m (10.9ms)[0m  [1m[35mCREATE  INDEX  "index_taggings_on_tagger_id_and_tagger_type" ON "taggings"  ("tagger_id", "tagger_type")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "taggings_idy" ON "taggings"  ("taggable_id", "taggable_type", "tagger_id", "context")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170801092050"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddSearchableToVendors (20170803072337)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "vendors" ADD "searchable" boolean DEFAULT 't'[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170803072337"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to BreakdownBusinessAddressFromVendors (20170803091059)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "vendors" RENAME COLUMN "business_address" TO "suburb"[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "vendors" ADD "street_address" character varying[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "vendors" ADD "state" character varying[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "vendors" ADD "country" character varying[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "vendors" ADD "post_code" character varying[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170803091059"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to ChangeAddressStructureToVendors (20170808135126)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "vendors" RENAME COLUMN "street_address" TO "registered_street_address"[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "vendors" RENAME COLUMN "country" TO "registered_country"[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "vendors" RENAME COLUMN "post_code" TO "registered_post_code"[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "vendors" ADD "registered_suburb" character varying[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "vendors" ADD "registered_state" character varying[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170808135126"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddAccumulatedGiftCardToReferralCodes (20170822222913)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "referral_codes" ADD "accumulated_gift_card" integer DEFAULT 0[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170822222913"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to UpdateColumnsToReferrals (20170822223300)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "referrals" ADD "registered_date" timestamp[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "referrals" ADD "gift_card_sent" boolean DEFAULT 'f'[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "referrals" DROP "discount_fee"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170822223300"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateFeatures (20170824123313)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.2ms)[0m  [1m[35mCREATE TABLE "features" ("id" serial primary key, "name" character varying, "status" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170824123313"]]
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateRewards (20170825031547)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "rewards" ("id" serial primary key, "wedding_id" integer, "credit" integer DEFAULT 0, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE  INDEX  "index_rewards_on_wedding_id" ON "rewards"  ("wedding_id")[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170825031547"]]
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateRewardTransactions (20170825031922)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "reward_transactions" ("id" serial primary key, "quote_id" integer, "wedding_id" integer, "gift_card_sent" boolean DEFAULT 'f', "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE  INDEX  "index_reward_transactions_on_quote_id" ON "reward_transactions"  ("quote_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_reward_transactions_on_wedding_id" ON "reward_transactions"  ("wedding_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170825031922"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddPlannedToCustomTodos (20170920083047)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "custom_todos" ADD "planned" integer DEFAULT 0[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170920083047"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePayouts (20170924134102)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (15.2ms)[0m  [1m[35mCREATE TABLE "payouts" ("id" serial primary key, "status" character varying DEFAULT 'pending', "amount" integer NOT NULL, "scheduled_at" timestamp, "rescheduled_count" integer DEFAULT 0 NOT NULL, "metadata" json DEFAULT '{}', "quote_id" integer, "vendor_id" integer, "transaction_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (5.4ms)[0m  [1m[35mCREATE  INDEX  "index_payouts_on_quote_id" ON "payouts"  ("quote_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_payouts_on_vendor_id" ON "payouts"  ("vendor_id")[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE  INDEX  "index_payouts_on_transaction_id" ON "payouts"  ("transaction_id")[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170924134102"]]
  [1m[35m (0.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddCustomTransactionFeeToVendors (20170927092601)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "vendors" ADD "custom_transaction_fee" integer[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170927092601"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to RenameCustomTransactionFee (20170928101922)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "vendors" RENAME COLUMN "custom_transaction_fee" TO "custom_vendor_fee_flat"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170928101922"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddCustomVendorFeePcgToVendors (20170928102120)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "vendors" ADD "custom_vendor_fee_pcg" integer[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170928102120"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddVendorTypeToVendors (20171002080539)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "vendors" ADD "vendor_type" character varying DEFAULT 'standard'[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20171002080539"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to RemoveNonProfitFromVendors (20171002082942)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "vendors" SET "vendor_type" = 'non-profit', "custom_vendor_fee_flat" = 0, "custom_vendor_fee_pcg" = 0 WHERE "vendors"."non_profit" = $1[0m  [["non_profit", "t"]]
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "vendors" DROP "non_profit"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20171002082942"]]
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddAnchorToVendors (20171005074626)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "vendors" ADD "anchor" boolean DEFAULT 'f'[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20171005074626"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddNotifiedToReferrals (20171006080555)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "referrals" ADD "notified" boolean DEFAULT 'f'[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20171006080555"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddNotifiedToRewardTransactions (20171006102022)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "reward_transactions" ADD "notified" boolean DEFAULT 'f'[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20171006102022"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddFulfilledAtToQuotes (20171017153340)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "quotes" ADD "fulfilled_at" timestamp[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20171017153340"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddVendorTypeFromQuotes (20171020095411)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "quotes" ADD "vendor_type" character varying DEFAULT 'standard'[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20171020095411"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddVendorSettingsToQuotes (20171022063252)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "quotes" ADD "custom_vendor_fee_pcg" integer[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "quotes" ADD "custom_vendor_fee_flat" integer[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20171022063252"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddTransactionNoToTransactions (20171025120823)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "transactions" ADD "transaction_no" character varying[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20171025120823"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddInvoiceNoToInvoices (20171103082321)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "invoices" ADD "invoice_no" character varying[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20171103082321"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to ChangeNameToVendors (20171106090333)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "vendors" ADD "firstname" character varying[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "vendors" ADD "lastname" character varying[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20171106090333"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddUserReferrenceToLocations (20171108165432)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "locations" ADD "vendor_id" integer[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE  INDEX  "index_locations_on_vendor_id" ON "locations"  ("vendor_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20171108165432"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddPhoneToUsers (20171117091628)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "users" ADD "phone" character varying[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20171117091628"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddExpiredColumnToQuotes (20171119203027)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "quotes" ADD "expired_at" timestamp[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20171119203027"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to RenameExpiredAtToExpiresAt (20171120033404)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "quotes" RENAME COLUMN "expired_at" TO "expires_at"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20171120033404"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateAdminNotifications (20171120093853)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE TABLE "admin_notifications" ("id" serial primary key, "description" character varying, "sent_at" timestamp, "user_id" integer)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_admin_notifications_on_user_id" ON "admin_notifications"  ("user_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20171120093853"]]
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateSettings (20171120170703)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.8ms)[0m  [1m[35mCREATE TABLE "settings" ("id" serial primary key, "name" character varying, "value" character varying, "owner_type" character varying, "owner_id" integer)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_settings_on_owner_type_and_owner_id" ON "settings"  ("owner_type", "owner_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20171120170703"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddCategoryOrderToServices (20171121003540)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "services" ADD "category_order" integer[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20171121003540"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to RemoveVendorLocationsFromVendors (20171122065530)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "vendors" DROP "vendor_locations"[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20171122065530"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddTimingToCustomTodos (20171208153051)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "custom_todos" ADD "timing_min_month" integer[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "custom_todos" ADD "timing_max_month" integer[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20171208153051"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to RemoveOverdueFromTodos (20171208154152)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "todos" DROP "overdue"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20171208154152"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateTodoCategories (20171208160419)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "todo_categories" ("id" serial primary key, "name" character varying)[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20171208160419"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddCategoryIdToTodos (20171208180221)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "todos" ADD "todo_category_id" integer[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE  INDEX  "index_todos_on_todo_category_id" ON "todos"  ("todo_category_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "custom_todos" ADD "todo_category_id" integer[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE  INDEX  "index_custom_todos_on_todo_category_id" ON "custom_todos"  ("todo_category_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20171208180221"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to DropTodoCategories (20180108142116)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP TABLE "todo_categories"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180108142116"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCategories (20180108142214)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "categories" ("id" serial primary key, "name" character varying)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180108142214"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddCategoryIdToTodos2 (20180108142442)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "todos" ADD "category_id" integer[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE  INDEX  "index_todos_on_category_id" ON "todos"  ("category_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "custom_todos" ADD "category_id" integer[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE  INDEX  "index_custom_todos_on_category_id" ON "custom_todos"  ("category_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "todos" DROP "todo_category_id"[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "custom_todos" DROP "todo_category_id"[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180108142442"]]
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddCategoryIdToServices (20180108144948)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "services" ADD "category_id" integer[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE  INDEX  "index_services_on_category_id" ON "services"  ("category_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180108144948"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to MoveVendorsAssignedWithToCategories (20180109072532)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "categories" ADD "vendors_assigned_with" integer DEFAULT 0[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "services" DROP "vendors_assigned_with"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180109072532"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddInternalIdToCategories (20180109103016)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "categories" ADD "internal_id" character varying[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_categories_on_internal_id" ON "categories"  ("internal_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180109103016"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to RemoveCategoryOrderToServices (20180109125332)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "services" DROP "category_order"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180109125332"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to ChangeReferenceToServices (20180112130629)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "todos" DROP "category_id"[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "custom_todos" DROP "category_id"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "todos" ADD "service_id" integer[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_todos_on_service_id" ON "todos"  ("service_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "custom_todos" ADD "service_id" integer[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE  INDEX  "index_custom_todos_on_service_id" ON "custom_todos"  ("service_id")[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180112130629"]]
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddServiceNameToCustomTodos (20180112131021)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "custom_todos" ADD "service_name" character varying[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180112131021"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to DropQuoteDrafts (20180114095722)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mDROP TABLE "quote_drafts"[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP TABLE "quote_draft_items"[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180114095722"]]
  [1m[35m (2.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to RemoveTagsFromServices (20180116091002)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "services" DROP "tags"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180116091002"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to RemoveSearchTermsFromTodos (20180116094132)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "todos" DROP "search_terms"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180116094132"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to RemoveRelevantServiceIdsFromTodos (20180116100702)
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "todos" DROP "relevant_service_ids"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180116100702"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to RemoveInternalIdsFromServices (20180116114656)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "services" DROP "internal_id"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180116114656"]]
  [1m[35m (0.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddOrderRankToCategories (20180122114024)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "categories" ADD "order_rank" integer[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180122114024"]]
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddOrderRankToServices (20180122140403)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "services" ADD "order_rank" integer DEFAULT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180122140403"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddPositionToTodos (20180305093634)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "todos" ADD "position" integer[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180305093634"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateTodoNotes (20180306094937)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "todo_notes" ("id" serial primary key, "wedding_id" integer, "noteable_type" character varying, "noteable_id" integer, "content" text, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_todo_notes_on_wedding_id" ON "todo_notes"  ("wedding_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX  "index_todo_notes_on_noteable_type_and_noteable_id" ON "todo_notes"  ("noteable_type", "noteable_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20180306094937"]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "test"], ["created_at", "2019-01-15 03:13:05.788896"], ["updated_at", "2019-01-15 03:13:05.788896"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(422878829879412585)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
